# =============================================================================
# Agentic AI Platform Base v1.2 - Environment Configuration
# =============================================================================
# Copy this file to .env and configure for your environment
# NEVER commit .env to version control

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME=agentic-ai-platform
APP_VERSION=1.2.0
ENVIRONMENT=development  # development, staging, production
DEBUG=true
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_PREFIX=/api/v1
API_WORKERS=4

# CORS Settings (comma-separated origins)
CORS_ORIGINS=["http://localhost:3000","http://localhost:5173","http://localhost:8501/"]

CORS_CREDENTIALS=true
CORS_METHODS=["GET","POST","PUT","DELETE","PATCH"]
CORS_HEADERS=["*"]

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
DB_HOST=localhost
DB_PORT=5433
DB_NAME=agenticbase2
DB_USER=postgres
DB_PASSWORD=postgres
DB_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# Connection Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# -----------------------------------------------------------------------------
# Keycloak Configuration
# -----------------------------------------------------------------------------
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_REALM=agentic
KEYCLOAK_CLIENT_ID=agentic-api
KEYCLOAK_CLIENT_SECRET=your-client-secret-here
KEYCLOAK_ADMIN_USERNAME=admin
KEYCLOAK_ADMIN_PASSWORD=admin

# JWT Settings
JWT_ALGORITHM=RS256
JWT_PUBLIC_KEY_URL=${KEYCLOAK_URL}/realms/${KEYCLOAK_REALM}/protocol/openid-connect/certs
KEYCLOAK_SKIP_VERIFICATION="true"
# -----------------------------------------------------------------------------
# LLM Configuration (Ollama)
# -----------------------------------------------------------------------------
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2
OLLAMA_TIMEOUT=120
OLLAMA_MAX_RETRIES=3

# Alternative: OpenAI Configuration
# OPENAI_API_KEY=sk-...
# OPENAI_MODEL=gpt-4
# OPENAI_MAX_TOKENS=2000

# Alternative: Anthropic Configuration
# ANTHROPIC_API_KEY=sk-ant-...
# ANTHROPIC_MODEL=claude-3-sonnet-20240229
# ANTHROPIC_MAX_TOKENS=4000

# -----------------------------------------------------------------------------
# LangGraph Configuration
# -----------------------------------------------------------------------------
LANGGRAPH_CHECKPOINT_DB_URL=${DB_URL}
LANGGRAPH_MAX_ITERATIONS=25
LANGGRAPH_RECURSION_LIMIT=50

# -----------------------------------------------------------------------------
# Redis Configuration (for caching and task queue)
# -----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# Cache TTL (seconds)
CACHE_DEFAULT_TTL=3600
CACHE_AGENT_TTL=7200

# -----------------------------------------------------------------------------
# HITL Configuration
# -----------------------------------------------------------------------------
HITL_NOTIFICATION_ENABLED=true
HITL_TIMEOUT_HOURS=24
HITL_ESCALATION_ENABLED=true
HITL_ESCALATION_HOURS=48

# Email Notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=psudheer854@gmail.com
SMTP_PASSWORD=wwbrpqmdrqytcczo
SMTP_FROM_EMAIL=psudheer854@gmail.com
SMTP_FROM_NAME=Agentic AI Platform
FRONTEND_URL=http://localhost:3000
# Slack Notifications (optional)
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#agentic-notifications

# -----------------------------------------------------------------------------
# Monitoring & Observability
# -----------------------------------------------------------------------------
# Prometheus
METRICS_ENABLED=true
METRICS_PORT=9090

# Sentry Error Tracking
SENTRY_DSN=
SENTRY_ENVIRONMENT=${ENVIRONMENT}
SENTRY_TRACES_SAMPLE_RATE=0.1

# OpenTelemetry
OTEL_ENABLED=false
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=${APP_NAME}

# -----------------------------------------------------------------------------
# Security Settings
# -----------------------------------------------------------------------------
# Secret key for session management (generate with: openssl rand -hex 32)
SECRET_KEY=1234

# Password hashing
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGITS=true
PASSWORD_REQUIRE_SPECIAL=true

# Session settings
SESSION_TIMEOUT_MINUTES=30
SESSION_REFRESH_ENABLED=true

# API Key settings
API_KEY_HEADER=X-API-Key
API_KEY_ENABLED=false

# -----------------------------------------------------------------------------
# File Upload Settings
# -----------------------------------------------------------------------------
UPLOAD_DIR=/tmp/uploads
MAX_UPLOAD_SIZE_MB=10
ALLOWED_EXTENSIONS=["pdf","txt","csv","json","xlsx"]

# -----------------------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------------------
VITE_API_BASE_URL=http://localhost:8000/api/v1
VITE_KEYCLOAK_URL=${KEYCLOAK_URL}
VITE_KEYCLOAK_REALM=${KEYCLOAK_REALM}
VITE_KEYCLOAK_CLIENT_ID=agentic-frontend

# Streamlit HITL UI
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=0.0.0.0
STREAMLIT_BROWSER_GATHER_USAGE_STATS=false

# -----------------------------------------------------------------------------
# Backup & Recovery
# -----------------------------------------------------------------------------
BACKUP_ENABLED=true
BACKUP_DIR=/backups
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
FEATURE_AGENT_EXECUTION=true
FEATURE_HITL=true
FEATURE_MULTI_TENANCY=false
FEATURE_AUDIT_LOG=true
FEATURE_ADVANCED_ANALYTICS=false

# -----------------------------------------------------------------------------
# Development Tools
# -----------------------------------------------------------------------------
# Auto-reload on code changes
AUTO_RELOAD=true

# Debug toolbar
DEBUG_TOOLBAR_ENABLED=false

# Profiling
PROFILING_ENABLED=false

# -----------------------------------------------------------------------------
# Testing Configuration
# -----------------------------------------------------------------------------
TEST_DB_URL=["postgresql://postgres:postgres@localhost:5433/agenticbase2"]
TEST_KEYCLOAK_ENABLED=false
TEST_MOCK_LLM=true

OPENAI_API_KEY=sk-your-key-here
LANGGRAPH_USE_POSTGRES=false
AGUI_ENABLED=true


REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60